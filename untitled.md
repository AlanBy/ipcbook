# 电池

## 电量精准上报能力（非必须）

ID：126 Code：battery\_report\_cap 数据传输类型：只上报 功能点类型：数值型 数值范围：0-15 说明： 该DP点用于设备上报自身电量检测能力，上报参数使用Bit位运算。

| Bit0     | Bit1 | Bit2 | Bit3 |
| -------- | ---- | ---- | ---- |
| 电池精准上报能力 | 预留   | 预留   | 预留   |

默认情况下，APP认为设备不具备精准上报当前电量的能力，APP上的电量展示会做模糊展示，对应关系如下表所示。

| 上报值    | 显示值  |
| ------ | ---- |
| 1-5    | 5%   |
| 6-15   | 10%  |
| 16-25  | 20%  |
| 26-35  | 30%  |
| 36-45  | 40%  |
| 46-55  | 50%  |
| 56-65  | 60%  |
| 66-75  | 70%  |
| 76-85  | 80%  |
| 86-95  | 90%  |
| 96-100 | 100% |
| 0      | 充电中  |

若设备具有能够精确检测当前电池电量的能力，则可将Bit0置为1，此时APP不会再做模糊处理，会根据电量上报值直接显示。

## 电量上报（必须）

ID：145 Code：wireless\_electricity 数据传输类型：只上报 功能点类型：数值型 数值范围：1-100 特殊值：0 说明： 此DP点用于设备上报设备当前的电量，结合**电量精准上报能力**进行展示。 特殊值： 0：默认认为设备在有电状态下最小上报的电量值为1，即有电设备上报值不可为0。故0被定义为特殊值，当设备上报电量值为0时，APP电量显示为充电中。若设备插电状态下无法精准检测当前电量，则可利用该特性直接将电量值显示为充电中以优化用户体验。

## 供电状态上报（非必须）

ID：146 Code：wireless\_powermode 数据传输类型：只上报 功能点类型：枚举型 枚举值： 0：电池供电中 1：电源供电中 说明： 设备可通过该DP点上报当前的供电方式，该DP点主要影响APP中的电池的展示方式，当上报值为0时，电池图标将根据电量上报值展示不同样式，当上报值为1时，电池图标将展示为充电中样式。
